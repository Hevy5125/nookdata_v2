(this.webpackJsonpnookdata_v2=this.webpackJsonpnookdata_v2||[]).push([[6],{252:function(e,t,a){},324:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var n=a(44),r=a(22),l=a(6),c=a(24),i=a(180),o=a(282),u=a(285),s=a(321),h=a(283),m=a(287),d=a(284),p=a(328),b=a(290),f=a(331),v=a(318),E=a(291),g=a(178),y=a(54),O=a(173),j=a(174),C=a(175),k=a(177),N=a(286),w=a(221),x=a(250),S=a.n(x),_=a(0),A=a.n(_),G=a(206),P=a(162),W=a(42),D=a(38),R=a(18),U=a(266),I=a(91),L=a(92),K=a(94),T=a(93),B=a(96);a(251),a(252);var F=function(e){Object(T.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).chart=null,n.chartElement=null,n.exportChart=n.exportChart.bind(Object(K.a)(n)),n.destroyChart=n.destroyChart.bind(Object(K.a)(n)),n.loadData=n.loadData.bind(Object(K.a)(n)),n.redraw=n.redraw.bind(Object(K.a)(n)),n.setChart=n.setChart.bind(Object(K.a)(n)),n.setChartElementRef=n.setChartElementRef.bind(Object(K.a)(n)),n.unloadData=n.unloadData.bind(Object(K.a)(n)),n.updateConfig=n.updateConfig.bind(Object(K.a)(n)),n}return Object(L.a)(a,[{key:"componentDidMount",value:function(){this.updateChart()}},{key:"shouldComponentUpdate",value:function(e){return!e.isPure||!function(e,t){var a=Object.keys(e),n=Object.keys(t),r=a.length;if(r!==n.length)return!1;for(var l=-1;++l<r;){var c=a[l];if(c!==n[l]||e[c]!==t[c])return!1}return!0}(this.props,e)}},{key:"componentDidUpdate",value:function(){this.updateChart()}},{key:"componentWillUnmount",value:function(){this.destroyChart()}},{key:"destroyChart",value:function(){this.chart&&this.chart.destroy(),this.chart=null}},{key:"exportChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!this.chart)return console.error("No chart is available to export.");this.chart.export({mimeType:e,preserveAspectRatio:!0},t)}},{key:"loadData",value:function(e){if(!this.chart)return console.error("No chart is available to which data can be loaded. It may already have been destroyed, or has never been drawn.");this.chart.load(e)}},{key:"redraw",value:function(){if(!this.chart)return console.error("No chart is available to draw.");this.chart.flush()}},{key:"setChart",value:function(e){if(this.chart)this.loadData(e);else{var t=this.props,a=(t.className,t.domProps,t.isPure,t.style,t.unloadBeforeLoad,Object(U.a)(t,["className","domProps","isPure","style","unloadBeforeLoad"]));this.chart=w.b.generate(Object(R.a)({bindto:this.chartElement},a))}}},{key:"setChartElementRef",value:function(e){this.chartElement=e}},{key:"unloadData",value:function(e){if(!this.chart)return console.error("No chart is available from which data can be unloaded. It may already have been destroyed, or has never been drawn.");this.chart.unload(e)}},{key:"updateChart",value:function(){var e=this.props,t=e.data,a=e.unloadBeforeLoad?Object(R.a)(Object(R.a)({},t),{},{unload:!0}):t;this.setChart(a)}},{key:"updateConfig",value:function(e,t,a){return this.chart?this.chart.config(e,t,a):console.error("You are trying to set the config a chart that does not exist.Have you passed `data`?")}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.domProps,n=e.style;return A.a.createElement("div",Object.assign({className:t,style:n},a,{ref:this.setChartElementRef}))}}]),a}(A.a.Component);F.displayName="Chart",F.getInstances=function(){return w.b.instance};var J,M=F,H=a(95),Y=["mon","tue","wed","thu","fri","sat"],q=(J={},Object(l.a)(J,H.a.FLUCTUATING,"turnips:pattern.fluctuating"),Object(l.a)(J,H.a.LARGE_SPIKE,"turnips:pattern.large_spike"),Object(l.a)(J,H.a.DECREASING,"turnips:pattern.decreasing"),Object(l.a)(J,H.a.SMALL_SPIKE,"turnips:pattern.small_spike"),Object(l.a)(J,H.a.AGGREGATE,"turnips:pattern.aggregate"),Object(l.a)(J,H.a.UNKNOWN,"Something went wrong. Sorry."),J);function z(){var e=Object(D.c)(window.localStorage.turnips,Object(D.b)(H.d)),t=A.a.useState(e),a=Object(r.a)(t,2),x=a[0],_=a[1],R=A.a.useState(!1),U=Object(r.a)(R,2),I=U[0],L=U[1],K=A.a.useState(!1),T=Object(r.a)(K,2),B=T[0],F=T[1],J=Object(H.c)(x),z=J?(console.log("calculating"),Object(H.b)(x)):[];console.log(z.length&&"hello");var Q,V=[],X={},Z={},$=0,ee=Object(n.a)(z);try{for(ee.s();!(Q=ee.n()).done;){var te,ae=Q.value,ne=["data".concat($)],re=Object(n.a)(ae.hours);try{for(re.s();!(te=re.n()).done;){var le=te.value;ne.push({low:le.min,high:le.max,mid:le.avg})}}catch(me){re.e(me)}finally{re.f()}V.push(ne),Z["data".concat($)]=q[ae.pattern],X["data".concat($++)]=H.e[ae.pattern](ae.chance)}}catch(me){ee.e(me)}finally{ee.f()}function ce(e){var t=S()(x,e);window.localStorage.turnips=JSON.stringify(t),_(t)}function ie(){var e=Object(D.b)(H.d);e.previousPattern=z.map((function(e){return e.pattern})).reduce((function(e,t){return e===H.a.UNKNOWN?H.a.UNKNOWN:e===H.a.AGGREGATE?t:t===H.a.AGGREGATE?e:e!==t?H.a.UNKNOWN:t}),H.a.UNKNOWN),ce(e)}console.log(z);var oe=Object(P.a)(["core","turnips"]).t,ue=Object(c.a)(),se=!Object(i.a)(ue.breakpoints.up("sm")),he=A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(W.c,null,A.a.createElement(u.a,{control:A.a.createElement(s.a,{checked:x.firstBuy,onChange:function(e){return ce({firstBuy:e.target.checked})},color:"primary"}),label:oe("turnips:prices.first_buy.checkbox"),title:oe("turnips:prices.first_buy.hover")})));return A.a.createElement(A.a.Fragment,null,A.a.createElement(G.a,null,A.a.createElement("title",null,oe("core:title.browser.page",{pageTitle:oe("core:pages.turnips")}))),A.a.createElement("div",{style:{maxWidth:800,margin:"auto"}},A.a.createElement(h.a,{style:{margin:16}},A.a.createElement(m.a,{title:oe("turnips:prices.title")}),A.a.createElement(d.a,null,A.a.createElement(o.a,{container:!0,spacing:1},se&&he,A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(p.a,{type:"number",fullWidth:!0,value:x.buy,onChange:function(e){return ce({buy:e.target.value?+e.target.value:null})},label:oe("turnips:prices.buy")})),!se&&he,Y.map((function(e){return A.a.createElement(A.a.Fragment,null,A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(p.a,{type:"number",fullWidth:!0,value:x[e].am,onChange:function(t){return ce(Object(l.a)({},e,{am:t.target.value?+t.target.value:null}))},label:oe("turnips:prices.am",{day:oe("core:time.weekday.".concat(e,".long"))})})),A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(p.a,{type:"number",fullWidth:!0,value:x[e].pm,onChange:function(t){return ce(Object(l.a)({},e,{pm:t.target.value?+t.target.value:null}))},label:oe("turnips:prices.pm",{day:oe("core:time.weekday.".concat(e,".long"))})})))})),A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(b.a,{fullWidth:!0},A.a.createElement(f.a,{id:"comp-label"},oe("turnips:pattern.label")),A.a.createElement(v.a,{value:x.previousPattern,onChange:function(e){return ce({previousPattern:e.target.value})},labelId:"pattern-label",fullWidth:!0},A.a.createElement(E.a,{value:H.a.SMALL_SPIKE},oe("turnips:pattern.small_spike")),A.a.createElement(E.a,{value:H.a.LARGE_SPIKE},oe("turnips:pattern.large_spike")),A.a.createElement(E.a,{value:H.a.FLUCTUATING},oe("turnips:pattern.fluctuating")),A.a.createElement(E.a,{value:H.a.DECREASING},oe("turnips:pattern.decreasing")),A.a.createElement(E.a,{value:H.a.UNKNOWN},oe("turnips:pattern.unknown"))))),A.a.createElement(o.a,{item:!0,xs:12,sm:6},A.a.createElement(g.a,{style:{height:"100%"},fullWidth:!0,variant:"contained",color:"primary",onClick:function(){Object(D.c)(window.localStorage.turnipDontConfirm,!1)?ie():L(!0)}},oe("turnips:ui.start_next")))),J||A.a.createElement(A.a.Fragment,null,A.a.createElement("br",null),A.a.createElement(W.c,null,A.a.createElement("div",{style:{display:"inline-flex",justifyContent:"center",height:"100%",color:ue.palette.error.main,paddingRight:8}},A.a.createElement(N.a,null)),A.a.createElement(y.a,{color:"error"},oe("turnips:ui.bad_data")))))),!!z.length&&A.a.createElement(h.a,{style:{margin:16}},A.a.createElement(d.a,null,A.a.createElement(M,{isPure:!0,className:"chart ".concat(ue.name),data:{columns:V,colors:X,names:Z,type:Object(w.a)()},legend:{show:!1}})))),A.a.createElement(O.a,{open:I},A.a.createElement(j.a,null,oe("turnips:ui.reset_dialogue.title")),A.a.createElement(C.a,null,oe("turnips:ui.reset_dialogue.text"),A.a.createElement("br",null),A.a.createElement(u.a,{control:A.a.createElement(s.a,{checked:B,onChange:function(e){return F(e.target.checked)},color:"primary"}),label:oe("core:ui.dont_ask")})),A.a.createElement(k.a,null,A.a.createElement(g.a,{onClick:function(){return L(!1)}},oe("core:ui.cancel")),A.a.createElement(g.a,{onClick:function(){B&&(window.localStorage.turnipDontConfirm="true"),L(!1),ie()}},oe("core:ui.confirm")))))}}}]);
//# sourceMappingURL=6.28a1c345.chunk.js.map